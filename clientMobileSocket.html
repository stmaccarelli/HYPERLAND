<!DOCTYPE html>
<html lang="en">
<head>
	<title>HYPERLAND MOBILE CLIENT MONITOR</title>
	<meta charset="utf-8">
	<meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="mobile-web-app-capable" content="yes">
	<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0, minimal-ui">
	<link href="css/style.css" rel="stylesheet" type="text/css">
</head>
<body width="100%" style="margin:20px;">

	<!-- Utils Libs -->
  <script src="lib/NoSleep.min.js"></script>
  <script src="lib/NoScroll.js"></script>

	<!-- NODE SOCKET.IO -->
	<script src="http://192.168.1.75:1502/socket.io/socket.io.js" type="text/javascript"></script>

	<script type="text/javascript">
	window.addEventListener('load',init, true);

	function init(){
		var socket = io('http://pixelsmasher.io:1502');

 		socket.emit('ack',{whoami:'mobile'});
		console.log('sent ack');

		window.addEventListener('keyup',function(){socket.emit('mobi_push_key',{a:10});});

		socket.on('mxr_push_to_cli_fft', function(d){console.log(d.msg);});
		socket.on('mxr_push_to_cli_key', function(d){console.log(d.msg);});
	}
	</script>

  <script type="text/javascript">
    // var canvas = document.getElementById("canvas");
    // canvas.width = document.body.clientWidth;
    // var c = canvas.getContext("2d");
    // var totalFreqs = AA.getFreqArray.length;
    // var barWidth = canvas.width/totalFreqs-1;
    // var barHeight = 200;
		// canvas.height = barHeight;
		//
    // var freq;//temp freq to draw
    // var peak = [];
		// var REDUCEPEAKS = false;
		//
    // function update(){
    //   // c.clearRect(0,0,c.width,c.height);
    //   c.fillStyle = "rgb(50,50,50)";
    //   c.fillRect (0, 0, canvas.width, barHeight);
		//
		// 	//DRAW BARS
    //   for(var i in AA.getFreqArray){
    //     freq = AA.getFreq(i);
    //     c.fillStyle = "hsl("+(256-freq*256)+",100%,50%)";
    //     c.fillRect (i*(barWidth+1), barHeight, barWidth, -freq*barHeight);
    //   }
		//
		// 	//DRAW PEAKS
    //   for(var i in AA.getFreqArray){
    //     c.fillStyle = "hsl("+(256-peak[i]*256)+",100%,"+(peak[i]>.99?100:50)+"%)";
    //     c.fillRect (i*(barWidth+4), barHeight-peak[i]*barHeight, barWidth, 10);
    //     if(AA.getFreq(i)>peak[i] || peak[i]===undefined) peak[i] = AA.getFreq(i);
		//
		// 		if(REDUCEPEAKS)
    //      for(var i in peak)
    //        peak[i]-=0.00001;
    //   }
		//
    //   //draw a middle level line
    //   c.fillStyle="rgb(255,255,255)";
    //   c.fillRect(0,barHeight*.5,canvas.width,2);
		//
		// 	//draw a 3/4 level line
		// 	c.fillStyle="rgb(255,255,255)";
		// 	c.fillRect(0,barHeight*.25,canvas.width,2);
		//
		// 	//call rAF
    //   window.requestAnimationFrame(update);
    // };
    //   window.addEventListener("AAload",function(){
    //     update();
    //   },false);
		//
		// 	window.addEventListener('resize',function(){
		// 		canvas.width = window.innerWidth;
		// 		barWidth = canvas.width/totalFreqs-1;
		// 	},false);
		//
		// 	document.getElementById('peakReset').addEventListener('click',function(){ peak=[]; },false);
  </script>

</body>
</html>
